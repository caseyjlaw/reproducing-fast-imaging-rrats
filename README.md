# Reproducing Fast Imaging of RRATs

## Introduction

This repository contains a Jupyter notebook and data products to reproduce of analysis that first found the "rotating radio transients" (RRATs) with the [VLA](https://public.nrao.edu/telescopes/vla). These results were presented in the publications "Fast Imaging of RRATs" and ["The RRAT Trap"](https://ui.adsabs.harvard.edu/#abs/2012ApJ...760..124L/abstract). The analysis uses [`rtpipe`](http://github.com/caseyjlaw/rtpipe), a Python package used to search radio interferometer data (particularly from the ) for millisecond radio transients.

Readers can use this repo to:

1. Run an example of the analysis presented in the paper as a [Jupyter](http://jupyter.org) notebook.
2. Visualize some basic properties of RRATs presented in the paper (using `rtpipe` and the cands*pkl file).
3. Reproduce the detections discussed in the paper (using `rtpipe`, downloaded data, and the *GN file).

## Prerequisites

1) For Basic candidate data exploration, use the excellent [binder](http://mybinder.org):

[![Binder](http://mybinder.org/badge.svg)](http://mybinder.org:/repo/caseyjlaw/reproducing-fast-imaging-rrats)

2) To reproduce full analysis, build the following locally:

- [`rtpipe`](http://github.com/caseyjlaw/rtpipe) (and [anaconda](https://www.continuum.io/downloads) installer to get it)
- Jupyter
- this repo

## Getting Started with full analysis

1. Clone this repo.

2. Install [`rtpipe`](http://github.com/caseyjlaw/rtpipe) with the [anaconda](https://www.continuum.io/downloads) installer.

3. Install jupyter (e.g., `conda install jupyter`) and run `jupyter notebook` from this repo.

4. To run the transient search, you need to download 195 GB of raw visibility data:

  a. Visit https://archive.nrao.edu/archive/advquery.jsp.
  
  b. Type "12A-336_sb9667618_1b.56040.87127945602" into the field named "Archive File ID".
  
  c. Enter your email address in the email field and under "Choose dataset file format" click the button for "SDM-BDF dataset".
  
  d. Select the radio button for the observation listed at bottom (only one should be listed) and click "Get My Data".
  
  e. On the next page, select "Retrieve over internet" to begin the moving data to an FTP site.
  
  f. Follow the instructions emailed from NRAO to *actually* retrieve the data via FTP.

## Running notebooks

First, you can visualize candidates detected by `rtpipe` by loading "visualizecands.ipynb" with your Jupyter notebook server. This notebook contains a basic visualization of a candidate file generated by `rtpipe`. It includes parameters that define how the candidate transient was found and features of the candidate (e.g., location, SNR). This does not require downloading data outside of the repo, so it can be run in a binder: [![Binder](http://mybinder.org/badge.svg)](http://mybinder.org:/repo/caseyjlaw/reproducing-fast-imaging-rrats)

Second, you can reproduce the analysis run by `rtpipe` that identified the RRATs in the VLA data. If you have downloaded the raw visibility data into this repo, then the notebook "runsearch.ipynb" will find it.
